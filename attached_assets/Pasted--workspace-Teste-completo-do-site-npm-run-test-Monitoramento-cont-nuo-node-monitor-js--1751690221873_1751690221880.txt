~/workspace$ # Teste completo do site
npm run test

# Monitoramento contÃ­nuo
node monitor.js

# ValidaÃ§Ã£o de dados
node validate-data.js

> rest-express@1.0.0 test
> node test-site.js

[2025-07-05T04:36:15.966Z] ğŸ”µ INFO: ğŸš€ Starting comprehensive site testing...
[2025-07-05T04:36:15.969Z] ğŸ”µ INFO: 
--- Running Server Health Test ---
[2025-07-05T04:36:15.969Z] ğŸ§ª TEST: Testing server health...
[2025-07-05T04:36:15.985Z] âœ… SUCCESS: Server health check passed
{ status: 'ok', timestamp: '2025-07-05T04:36:15.982Z' }
[2025-07-05T04:36:15.987Z] âœ… SUCCESS: Server Health test PASSED
[2025-07-05T04:36:15.987Z] ğŸ”µ INFO: 
--- Running Categories API Test ---
[2025-07-05T04:36:15.987Z] ğŸ§ª TEST: Testing Categories API...
[2025-07-05T04:36:16.849Z] âœ… SUCCESS: Categories API returned 14 categories
[2025-07-05T04:36:16.849Z] ğŸ”µ INFO: 14/14 categories have valid structure
[2025-07-05T04:36:17.020Z] âœ… SUCCESS: Individual category fetch successful
{
  id: 22,
  name: 'PARA SUA CASA',
  slug: 'para-sua-casa',
  icon: 'ğŸ ',
  color: '#006C84',
  backgroundImage: null,
  active: true,
  order: 1
}
[2025-07-05T04:36:17.020Z] âœ… SUCCESS: Categories API test PASSED
[2025-07-05T04:36:17.021Z] ğŸ”µ INFO: 
--- Running Businesses API Test ---
[2025-07-05T04:36:17.021Z] ğŸ§ª TEST: Testing Businesses API...
[2025-07-05T04:36:17.193Z] âœ… SUCCESS: Businesses API returned 7 businesses
[2025-07-05T04:36:17.193Z] ğŸ”µ INFO: 7/7 businesses have valid structure
[2025-07-05T04:36:17.365Z] âœ… SUCCESS: Featured businesses API returned 1 businesses
[2025-07-05T04:36:17.536Z] âœ… SUCCESS: Individual business fetch successful
{
  id: 7,
  name: 'Hizon Phone',
  description: 'Venda de Iphones e AcessÃ³rios Apple',
  phone: '',
  whatsapp: '12997102757',
  address: ' Avenida Walkir Vergani, 240, loja 11 - BoiÃ§ucanga, SÃ£o SebastiÃ£o - SP',
  email: '',
  website: '',
  instagram: 'hizonphone',
  facebook: '',
  journalLink: '',
  categoryId: 34,
  imageUrl: 'https://i.ibb.co/5W2fZXbL/1.png',
  featured: true,
  certified: false,
  active: true
}
[2025-07-05T04:36:17.538Z] âŒ ERROR: Search API failed
[2025-07-05T04:36:17.538Z] âœ… SUCCESS: Businesses API test PASSED
[2025-07-05T04:36:17.538Z] ğŸ”µ INFO: 
--- Running Site Settings API Test ---
[2025-07-05T04:36:17.538Z] ğŸ§ª TEST: Testing Site Settings API...
[2025-07-05T04:36:17.715Z] âœ… SUCCESS: Site settings have all required fields
[2025-07-05T04:36:17.715Z] ğŸ”µ INFO: Site settings validation
{
  siteName: true,
  locality: true,
  phone: true,
  email: true,
  totalFields: 31
}
[2025-07-05T04:36:17.716Z] âœ… SUCCESS: Site Settings API test PASSED
[2025-07-05T04:36:17.716Z] ğŸ”µ INFO: 
--- Running Business Registration API Test ---
[2025-07-05T04:36:17.716Z] ğŸ§ª TEST: Testing Business Registration API...
[2025-07-05T04:36:18.065Z] âœ… SUCCESS: Business registration API test passed
{
  id: 3,
  businessName: 'Test Business 1751690177889',
  categoryId: 22,
  phone: '12999999999',
  whatsapp: '12999999999',
  address: 'Test Address, Test City',
  description: 'Test business description',
  instagram: null,
  facebook: null,
  contactEmail: 'test@example.com',
  imageUrl: null,
  processed: false
}
[2025-07-05T04:36:18.236Z] âœ… SUCCESS: Business registrations fetch returned 3 registrations
[2025-07-05T04:36:18.236Z] âœ… SUCCESS: Business Registration API test PASSED
[2025-07-05T04:36:18.237Z] ğŸ”µ INFO: 
--- Running Admin Endpoints Test ---
[2025-07-05T04:36:18.237Z] ğŸ§ª TEST: Testing Admin Endpoints...
[2025-07-05T04:36:18.408Z] âœ… SUCCESS: Admin endpoint /api/admin/business-registrations working
{ dataLength: 3 }
[2025-07-05T04:36:18.582Z] âœ… SUCCESS: Admin endpoint /api/admin/banners working
{ dataLength: 'N/A' }
[2025-07-05T04:36:18.755Z] âœ… SUCCESS: Admin endpoint /api/admin/settings working
{ dataLength: 'N/A' }
[2025-07-05T04:36:18.927Z] âœ… SUCCESS: Admin endpoint /api/admin/testimonials working
{ dataLength: 'N/A' }
[2025-07-05T04:36:19.099Z] âœ… SUCCESS: Admin endpoint /api/admin/faqs working
{ dataLength: 'N/A' }
[2025-07-05T04:36:19.271Z] âœ… SUCCESS: Admin endpoint /api/admin/promotions working
{ dataLength: 'N/A' }
[2025-07-05T04:36:19.443Z] âœ… SUCCESS: Admin endpoint /api/admin/logs working
{ dataLength: 6 }
[2025-07-05T04:36:19.614Z] âœ… SUCCESS: Admin endpoint /api/admin/analytics working
{ dataLength: 'N/A' }
[2025-07-05T04:36:19.614Z] ğŸ”µ INFO: Admin endpoints test: 8/8 passed
[2025-07-05T04:36:19.614Z] âœ… SUCCESS: Admin Endpoints test PASSED
[2025-07-05T04:36:19.615Z] ğŸ”µ INFO: 
--- Running Data Integrity Test ---
[2025-07-05T04:36:19.615Z] ğŸ§ª TEST: Testing Data Integrity...
[2025-07-05T04:36:20.475Z] âœ… SUCCESS: All businesses have valid category relationships
[2025-07-05T04:36:20.475Z] âœ… SUCCESS: No duplicate category slugs found
[2025-07-05T04:36:20.475Z] âœ… SUCCESS: All critical settings are present
[2025-07-05T04:36:20.475Z] âœ… SUCCESS: Data Integrity test PASSED
[2025-07-05T04:36:20.475Z] ğŸ”µ INFO: 
=== TEST SUMMARY ===
[2025-07-05T04:36:20.475Z] ğŸ”µ INFO: Tests passed: 7/7
[2025-07-05T04:36:20.475Z] ğŸ”µ INFO: Success rate: 100.0%
[2025-07-05T04:36:20.475Z] âœ… SUCCESS: ğŸ‰ All tests passed! Site is functioning correctly.
[2025-07-05T04:36:20.529Z] ğŸ‘ï¸ MONITOR: ğŸš€ Starting real-time site monitoring...
[2025-07-05T04:36:20.532Z] ğŸ”µ INFO: Monitoring interval: 30 seconds
[2025-07-05T04:36:20.532Z] ğŸ”µ INFO: Base URL: http://localhost:5000

[2025-07-05T04:36:20.532Z] ğŸ‘ï¸ MONITOR: Starting monitoring cycle...
[2025-07-05T04:36:20.548Z] âœ… SUCCESS: Health Check OK (6ms)
[2025-07-05T04:36:20.722Z] âœ… SUCCESS: Categories API OK (173ms)
[2025-07-05T04:36:20.894Z] âœ… SUCCESS: Businesses API OK (172ms)
[2025-07-05T04:36:21.066Z] âœ… SUCCESS: Featured Businesses OK (171ms)
[2025-07-05T04:36:21.238Z] âœ… SUCCESS: Site Settings OK (171ms)
[2025-07-05T04:36:21.239Z] âœ… SUCCESS: All systems operational (100.0%)
[2025-07-05T04:36:21.239Z] ğŸ”µ INFO: Memory usage normal
{ rss: 50, heapTotal: 6, heapUsed: 5, external: 2 }
[2025-07-05T04:36:21.240Z] ğŸ‘ï¸ MONITOR: Next check in 30 seconds

^C[2025-07-05T04:36:34.500Z] ğŸ‘ï¸ MONITOR: Stopping monitoring...
[2025-07-05T04:36:34.552Z] ğŸ” VALIDATION: ğŸ” Starting comprehensive data validation...
[2025-07-05T04:36:34.555Z] ğŸ”µ INFO: 
--- Validating Categories ---
[2025-07-05T04:36:34.555Z] ğŸ” VALIDATION: Validating categories data...
[2025-07-05T04:36:34.746Z] âœ… SUCCESS: Categories validation: 14 total, 14 active, 0 issues
[2025-07-05T04:36:34.746Z] âœ… SUCCESS: Categories validation PASSED
[2025-07-05T04:36:34.746Z] ğŸ”µ INFO: 
--- Validating Businesses ---
[2025-07-05T04:36:34.746Z] ğŸ” VALIDATION: Validating businesses data...
[2025-07-05T04:36:34.921Z] ğŸ”µ INFO: Featured businesses: 1
[2025-07-05T04:36:34.922Z] âœ… SUCCESS: Businesses validation: 7 total, 0 issues
[2025-07-05T04:36:34.922Z] âœ… SUCCESS: Businesses validation PASSED
[2025-07-05T04:36:34.922Z] ğŸ”µ INFO: 
--- Validating Site Settings ---
[2025-07-05T04:36:34.922Z] ğŸ” VALIDATION: Validating site settings...
[2025-07-05T04:36:35.094Z] âœ… SUCCESS: Site settings validation: 31 fields, 0 issues
[2025-07-05T04:36:35.094Z] âœ… SUCCESS: Site Settings validation PASSED
[2025-07-05T04:36:35.094Z] ğŸ”µ INFO: 
=== VALIDATION SUMMARY ===
[2025-07-05T04:36:35.095Z] ğŸ”µ INFO: Validations passed: 3/3
[2025-07-05T04:36:35.095Z] ğŸ”µ INFO: Success rate: 100.0%
[2025-07-05T04:36:35.095Z] âœ… SUCCESS: ğŸ‰ All data validations passed! Database integrity confirmed.
~/workspace$ 